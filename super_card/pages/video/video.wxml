<!--super_card/pages/video/video.wxml-->
<import src="../../components/dialog/dialog.wxml"/>
<template is="dialog" data="{{ ...$wux.dialog }}"/>

<view class='contains'>


  <block wx:if="{{ data !== false }}">
    <view wx:if="{{ name }}" class='title2'>{{ name }}</view>
      <view class="video-bg">
        <txv-video wx:if="{{showVideo === true && VqqId != 0}}" class="goods-video"  vid="{{VqqId}}" playerid="txv1" ></txv-video>
        <video wx:if="{{showVideo === true && VqqId == 0 }}" class="video2" src="{{ path }}" controls></video>
      </view>
      <view class='btn-submit'>
        <button class='btn-block btn-blue' bindtap='updateVideoName' style='background:{{ themeColor }};'>
          <block wx:if="{{ name }}">
          修改标题
          </block>
          <block wx:else>
          添加标题
          </block>
        </button>
      </view>
      <view class='btn-submit'>
        <button class='btn-block btn-white' bindtap='delCardVideo' style='color:{{ themeColor }};border-color:{{ themeColor }};'>删除视频</button>
    </view>
  </block>

  <block wx:else>

    <block wx:if="{{ path != '' }}">
      <view class='content'>
      <view class='video'>
          <video id="myVideo" src="{{ path }}" controls></video>
      </view>
      </view>
    </block>
    <block wx:else>

      <view class='record-option'>
        <view class="{{catalogSelect == 2 ? 'active':''}}" bindtap='selectRecording'>上传视频</view>
        <view class="{{catalogSelect == 1 ? 'active':''}}" bindtap='selectInstall'>视频链接</view>
      </view>

      <view wx:if="{{ catalogSelect == 2 }}" class='content'  bindtap='chooseCardVideo'>
        <view class='video'>
          <image class='icon iconfont icon-plus'></image>
        </view>
        <text class='up'>上传视频</text>
        <text class='info'>最短10秒 最长10分钟</text>
      </view>

      <view wx:if="{{ catalogSelect == 1 }}" class='link-content'>

            <view class='link-video'>
              <textarea class="link-video-textarea" placeholder-style="font-size:28rpx;" rows="20" maxlength="500" placeholder="请在此粘贴视频链接(目前只支持腾讯视频链接)。如：https://v.qq.com/x/page/a0510af2isd6.html" bindblur='setVqqLink' bindlinechange='setVqqLink' bindconfirm='setVqqLink' value="{{ path }}"></textarea>
            </view>

       </view>
        
    </block>

    <view class='title'>
      <input name="mailbox" maxlength="25" placeholder="视频标题0~25字" value="{{ name }}" bindblur='setVideoName'></input>
    </view>
    <view class='btn-submit'>
      <button class='btn-block btn-blue' disabled='{{ disabledBtn }}' bindtap='saveCardVideo' style='background:{{ themeColor }};'>保 存</button>
    </view>

  </block>

 
</view>


